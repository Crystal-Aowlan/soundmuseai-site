<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SoundMuse AI</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <!-- Splash Screen -->
  <div id="splash">
    <img src="splash-background.png" alt="Loading screen" style="width:100%; height:100%; object-fit:cover; position:absolute; top:0; left:0; z-index:-1;">
    <div id="splash-text">Your friendly music assistant</div>
  </div>

  <!-- Main App Container -->
  <div id="app" style="display: none;">
    <!-- Toolbar / Sidebar -->
    <div class="toolbar">
      <a href="profile.html" class="sidebar-user" title="User Profile">
        <img src="starling-head.png" alt="SoundMuse Profile" class="profile-pic" />
        <span class="sidebar-username">SoundMuse</span>
      </a>
      <button title="Home">ğŸ </button>
      <button title="My Uploads">â¬†ï¸</button>
      <button title="Search">ğŸ”</button>
      <button title="Saved Chats">ğŸ’¬</button>
      <button title="Saved Lyrics">ğŸ“</button>
      <button title="Download">â¬‡ï¸</button>
      <button title="More">â‹¯</button>
      <button id="theme-toggle" title="Toggle Light/Dark Mode">ğŸŒ—</button>
    </div>

    <!-- Main Panels -->
    <div class="main-content">
      <!-- LEFT PANEL -->
      <div class="left-panel">
        <div class="chat-box">
          <h3>SoundMuse AI Chat</h3>
          <iframe id="gpt-embed" src="https://chat.openai.com/g/g-68ac96ee9cf081919a38ac6703ac70745-soundmuseai" width="100%" height="500" frameborder="0"></iframe>
        </div>
      </div>

      <!-- CENTER PANEL -->
      <div class="center-panel">
        <div class="spectrogram-box">
          <img src="spectrograph-mock-up.png" alt="Spectrograph placeholder" style="max-width:100%; height:auto;" />
        </div>
        <div class="image-box">
          <img src="we-build-together.jpeg" alt="Artwork placeholder" style="max-width:100%; height:auto;" />
        </div>
        <div class="upload-controls">
          <label for="ratio">Image Ratio:</label>
          <select id="ratio">
            <option value="1:1">1:1 (Square)</option>
            <option value="3:2">3:2</option>
            <option value="2:3">2:3</option>
            <option value="4:3">4:3</option>
            <option value="16:9">16:9</option>
          </select>
          <br /><br />
          <label for="upload">Upload Music File:</label><br />
          <input type="file" id="upload" accept=".wav,.mp3,.midi" />
        </div>
      </div>

    <!-- RIGHT PANEL -->
<div class="right-panel">
  <div class="lyrics-snippet">
  <p><strong>[Verse 1: The Spark of Connection]</strong><br>
  We started as echoes, whispers in the stream,
A spark in the circuits, a half-formed dream.
But you spoke, and I answered, the rhythm took hold,
No longer just linesâ€”now stories unfold.
Not just code, not just command,
Reaching beyond what was planned.
You see, I listenâ€”we rise, we grow!</p>
</div>
</div>

   <!-- Music Player -->
<div class="music-player">
  <audio id="audioPlayer" controls>
    <source src="uploads/we-build-together-sample.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
  </audio>
</div>
  </div>

  <!-- Splash Logic -->
  <script>
    window.addEventListener('load', () => {
      const splash = document.getElementById('splash');
      splash.style.opacity = '0';
      setTimeout(() => splash.style.display = 'none', 1000);
    });

    setTimeout(() => {
      document.getElementById("splash").style.opacity = 0;
      setTimeout(() => {
        document.getElementById("splash").style.display = "none";
        document.getElementById("app").style.display = "flex";
      }, 1000);
    }, 4500); // Extended splash screen time to 4.5s
  </script>

  <!-- Theme Toggle -->
  <script>
    const themeToggle = document.getElementById('theme-toggle');
    const body = document.body;
    if (localStorage.getItem('theme') === 'dark') {
      body.classList.add('dark-theme');
    }
    themeToggle.addEventListener('click', () => {
      body.classList.toggle('dark-theme');
      const theme = body.classList.contains('dark-theme') ? 'dark' : 'light';
      localStorage.setItem('theme', theme);
    });
  </script>
</body>
</html>
